(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{UdBm:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{course:{name:"",type_id:""},options_type:[{value:null,text:"Chọn loại hình"},{value:1,text:"Dài hạn"},{value:2,text:"Ngắn hạn"}]}},methods:{handleOk:function(){var t=this;axios.post("/v1/admin/courses",{name:t.course.name,type_id:t.course.type_id}).then((function(e){t.$notify({group:"notify",title:"Thông báo",type:e.data.status,text:e.data.message})})).then((function(e){t.$store.dispatch("fetch_courses")}))}}},o=n("KHd+"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"add-course",attrs:{size:"sm",id:"add-course",title:"Thêm chương trình mới","header-bg-variant":"primary","header-text-variant":"light","ok-title":"Lưu thông tin","ok-variant":"outline-primary","cancel-title":"Hủy","cancel-variant":"outline-secondary"},on:{ok:function(e){return t.handleOk()}}},[n("b-form-row",[n("b-col",{attrs:{cols:"12",md:"6"}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Tên chương trình:","label-for":"",description:"Tên Chương Trình mới"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.course.name,callback:function(e){t.$set(t.course,"name",e)},expression:"course.name"}})],1)],1),t._v(" "),n("b-col",{attrs:{cols:"12",md:"6"}},[n("b-form-group",{attrs:{label:"Loại hình",description:"Chọn loại hình"}},[n("b-form-select",{attrs:{options:t.options_type},model:{value:t.course.type_id,callback:function(e){t.$set(t.course,"type_id",e)},expression:"course.type_id"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,s={props:{course:{type:Object,default:function(){return{id:null,name:"",type_id:""}}}},data:function(){return{options_type:[{value:null,text:"Chọn loại hình"},{value:1,text:"Dài hạn"},{value:2,text:"Ngắn hạn"}]}},methods:{handleOk:function(){var t=this;axios.put("/v1/admin/courses/"+t.course.id,{name:t.course.name,type_id:t.course.type_id}).then((function(e){t.$notify({group:"notify",title:"Thông báo",type:e.data.status,text:e.data.message})})).then((function(){t.$store.dispatch("fetch_courses")}))}}},i=Object(o.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"edit-course",attrs:{size:"md",id:"edit-course",title:"Chỉnh sửa chương trình","header-bg-variant":"primary","header-text-variant":"light","ok-title":"Lưu thông tin","ok-variant":"outline-primary","cancel-title":"Hủy","cancel-variant":"outline-secondary"},on:{ok:function(e){return t.handleOk()}}},[n("b-form-row",[n("b-col",{attrs:{cols:"12",md:"6"}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Tên chương trình:","label-for":"",description:"Tên Chương Trình"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.course.name,callback:function(e){t.$set(t.course,"name",e)},expression:"course.name"}})],1)],1),t._v(" "),n("b-col",{attrs:{cols:"12",md:"6"}},[n("b-form-group",{attrs:{label:"Loại hình",description:"Chọn loại hình"}},[n("b-form-select",{attrs:{options:t.options_type},model:{value:t.course.type_id,callback:function(e){t.$set(t.course,"type_id",e)},expression:"course.type_id"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,c={beforeCreate:function(){this.$store.getters.user.roles||(alert("You dont have permision"),this.$router.go(-1))},components:{TableComponent:n("UfsI").a,AddComponent:a,EditComponent:i},data:function(){return{fields:[{key:"name",label:"Tên",sortable:!0},{key:"course_type.name",label:"Loại hình",sortable:!0},{key:"actions",label:"Hành động"}],currentPage:1,perPage:5,selected_course:{}}},created:function(){this.$store.dispatch("fetch_courses"),console.log(this.courses)},computed:{user:function(){return this.$store.getters.user},courses:function(){return this.$store.getters.courses}},methods:{addClick:function(){this.$bvModal.show("add-course")},editClick:function(t){this.selected_course=t,this.$bvModal.show("edit-course")},removeClick:function(t){if(confirm("Bạn có chắc chắn xóa ?")){var e=this;axios.delete("/v1/admin/courses/"+t.id).then((function(t){e.$notify({group:"notify",title:"<h6>Thông báo</h6>",text:t.data.message,type:t.data.status})})).then((function(t){e.$store.dispatch("fetch_courses")}))}}}},l=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("h1",{staticClass:"h3 mb-4 text-gray-800"},[t._v("Trình quản lí khóa học")]),t._v(" "),n("b-card",{attrs:{"header-bg-variant":"primary","header-tag":"header","header-class":"py-3 d-flex flex-row align-items-center justify-content-between"}},[n("h6",{staticClass:"m0 font-weight-bold text-light",attrs:{slot:"header"},slot:"header"},[t._v("Bảng khóa học")]),t._v(" "),n("b-button",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:t.addClick}},[t._v("Thêm khóa học")]),t._v(" "),n("table-component",{attrs:{dataSource:t.courses,columnDef:t.fields},on:{editClick:t.editClick,removeClick:t.removeClick}})],1),t._v(" "),n("add-component"),t._v(" "),n("edit-component",{attrs:{course:t.selected_course}})],1)}),[],!1,null,null,null);e.default=l.exports},UfsI:function(t,e,n){"use strict";var r={props:{dataSource:{type:Array,default:function(){return[]}},columnDef:{type:Array,default:function(){return[]}}},data:function(){return{currentPage:1,perPage:5}},methods:{editClick:function(t){this.$emit("editClick",t)},removeClick:function(t){this.$emit("removeClick",t)}}},o=n("KHd+"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table",{attrs:{striped:"",bordered:"",outlined:"",hover:"","current-page":t.currentPage,"per-page":t.perPage,items:t.dataSource,fields:t.columnDef},scopedSlots:t._u([{key:"actions",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(n){return t.editClick(e.item)}}},[n("i",{staticClass:"fas fa-edit"})]),t._v(" "),n("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){return t.removeClick(e.item)}}},[n("i",{staticClass:"fas fa-trash"})])]}},{key:"is_overtime",fn:function(e){return[e.value?n("i",{staticClass:"text-primary fas fa-check"}):t._e()]}}])}),t._v(" "),n("b-row",[n("b-col",{staticClass:"my-1",attrs:{md:"6"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.dataSource.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)}),[],!1,null,null,null);e.a=a.exports}}]);